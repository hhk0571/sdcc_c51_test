#include "lib_ds1302.h"


/*****************************************************
函数功能：向DS1302写一个字节
***************************************************/
void write_byte_to_ds1302(byte dat)
{
   byte i;

   for (i = 0; i < 8; i++) {
       SDA = dat & 0x01; //输出数据
       delaynus(2);      //稍微等待，使硬件做好准备
       SCK = 1; //上升沿DS1302读入数据 (即单片机向DS1302写入数据)
       delaynus(2); //稍微等待，使硬件做好准备
       SCK = 0;     //重新拉低SCLK，形成脉冲
       dat >>= 1; //将dat的各数据位右移1位，准备写入下一个数据位
   }
}
